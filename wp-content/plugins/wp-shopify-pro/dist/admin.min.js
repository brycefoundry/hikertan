!function(o){function e(e){for(var t,n,r=e[0],a=e[1],s=e[2],i=0,c=[];i<r.length;i++)n=r[i],p[n]&&c.push(p[n][0]),p[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(o[t]=a[t]);for(d&&d(e);c.length;)c.shift()();return l.push.apply(l,s||[]),u()}function u(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==p[s]&&(r=!1)}r&&(l.splice(t--,1),e=i(i.s=n[0]))}return e}var n={},p={1:0},l=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=o,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var t=window.wpshopify=window.wpshopify||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var d=r;l.push([865,0,3]),u()}({865:function(e,t,n){"use strict";n.r(t);n(542),n(694);var r=n(399),i=n.n(r),a=n(38),o=n.n(a),s=n(56),c=n.n(s),u=n(32),p=n.n(u),l=n(31),d=n.n(l),f=n(41),g=n.n(f),h=n(85),y=n.n(h),m=n(28),w=n.n(m),b=n(45),v=n.n(b),x=n(400),k=n.n(x),S=n(401),j=n.n(S),P=n(67),T=n.n(P),Q=n(139),W=n.n(Q);function C(e){return anime({targets:e.toArray(),translateX:["-200%","0%"],opacity:1,duration:260,delay:0,elasticity:40,easing:"easeInOutCubic",complete:function(){anime({targets:e.toArray(),scale:1.6,duration:200,elasticity:0,easing:"easeInOutCubic",complete:function(){anime({targets:e.toArray(),scale:1,duration:800,elasticity:0,easing:"easeOutExpo"})}})}})}var O=n(3),Ae=n.n(O),E=n(14),De=n.n(E),I=n(11),z=n.n(I),Ue=n(13),H=n(104),B=n.n(H),M=(n(402),n(403),n(181)),L=n.n(M),A=(n(70),n(255)),D=n.n(A),U=(n(249),n(256)),R=n.n(U),N=n(252),F=n.n(N),q=n(404),G=n.n(q),V=n(180),Y=n.n(V),$=n(405),J=n.n($),K=n(141),X=n.n(K);function Z(){return"true"===localStorage.getItem("wps-connection-in-progress")}function ee(e){localStorage.setItem("wps-connection-in-progress",e)}function te(){return localStorage.getItem("wps-modal-connector-cache")}function ne(e){localStorage.setItem("wps-is-canceling",e)}function re(e){localStorage.setItem("wps-webhooks-reconnect",e)}function ae(){return"true"===localStorage.getItem("wps-is-canceling")&&(jQuery(".wps-connector").addClass("wps-is-stopping"),!0)}function se(){localStorage.clear(),WP_Shopify.manuallyCanceled=!1,WP_Shopify.reconnectingWebhooks=!1,WP_Shopify.isSyncing=!1,WP_Shopify.isClearing=!1,WP_Shopify.isConnecting=!1,WP_Shopify.isDisconnecting=!1}function ie(e,t,n){return{statusCode:e.status,message:t,action_name:n}}function ce(e){return{statusCode:e.status,message:e.data.message,action_name:e.data.code}}function oe(e){if(e)return!e.success}function ue(e){return v()(e,oe)}function pe(e){return t=ue(e),d()(t)?t[0]:t;var t}function le(e){if(e)return!R()([e],"type")}function de(e){if(WP_Shopify.selective_sync.all)return e;if((WP_Shopify.isConnecting||WP_Shopify.reconnectingWebhooks)&&e.hasOwnProperty("webhooks"))return e;var t,n=(t=WP_Shopify.selective_sync,F()(t,function(e,t){return 1==e})),r=Object.getOwnPropertyNames(e)[0];return n.hasOwnProperty(r)?e:w()(n,"products")&&w()(e,"collects")?e:void 0}function fe(){return void 0!==WP_Shopify.hasConnection&&(!0===WP_Shopify.hasConnection||(1===WP_Shopify.hasConnection||"1"===WP_Shopify.hasConnection))}function ge(e){return v()(e,function(e){return!g()(G()(e,function(e,t){return 0===(n=e)||"0"===n;var n}))})}function he(e){return v()(e,le)}function ye(e){return v()(e,de)}function _e(e,r){return v()(e,function(t){var n=!1;return o()(r,function(e){w()(t,e)&&(n=!0)}),!n})}function me(e){WP_Shopify.hasConnection=e}function we(e){return t=e,n=!1,o()(t,function(e){"error"===e.type&&(n=!0)}),n?Y()(D()(e),"message"):D()(e,fe()?[{type:"success",message:"Success! You've finished syncing your Shopify store with WordPress."}]:[{type:"success",message:"Success! You've finished disconnecting your Shopify store from WordPress."}]);var t,n}function be(e){var t=J()(e);return X()(t)||t<=0?"auto":t}function ve(){return new Promise(function(t,r){var a="get_published_product_ids_by_page";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function xe(e){return new Promise(function(t,r){var a="cache_admin_notice_dismissal";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,dismiss_name:e},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function ke(e){return new Promise(function(t,r){var a="insert_shop";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,shopData:e,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Se(){return new Promise(function(t,r){var a="remove_connection";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function je(e){return new Promise(function(t,r){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=get_version&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,"edd_action=get_version"))}})})}function Pe(e){return new Promise(function(t,r){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=check_license&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,"edd_action=check_license"))}})})}function Te(e){return new Promise(function(t,r){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=activate_license&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,"edd_action=activate_license"))}})})}function Qe(e){return new Promise(function(t,r){var a="license_save";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce,data:e},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function We(){return new Promise(function(t,r){var a="license_delete";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Ce(e){return new Promise(function(t,r){var a="register_all_webhooks";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,removalErrors:e,webhooksReconnect:"false"===localStorage.getItem("wps-webhooks-reconnect")||null===localStorage.getItem("wps-webhooks-reconnect")?0:localStorage.getItem("wps-webhooks-reconnect")},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Oe(){return new Promise(function(t,r){var a="delete_only_synced_data";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Ee(){return new Promise(function(t,r){var a="delete_posts_and_synced_data";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Re(e){return new Promise(function(t,r){var a="update_settings_general";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,data:e},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Ie(e){return new Promise(function(t,r){var a="set_syncing_indicator";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,syncing:e,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function ze(){return new Promise(function(t,r){var a="clear_cache";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function He(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(t,r){var a="progress_session_create";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce,resync:e,includes:n,excludes:s},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Be(){return new Promise(function(t,r){var a="delete_webhooks";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Me(e){return new Promise(function(t,r){var a="get_bulk_collects";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Le(e){return new Promise(function(t,r){var a="get_bulk_products";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Ne(e){return new Promise(function(t,r){var a="get_bulk_orders";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Fe(e){return new Promise(function(t,r){var a="get_bulk_customers";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function qe(e){return new Promise(function(t,r){var a="get_bulk_smart_collections";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Ge(e){return new Promise(function(t,r){var a="get_bulk_custom_collections";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Ve(){return new Promise(function(t,r){var a="kill_syncing";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function Ye(){return new Promise(function(t,r){var a="check_valid_server_connection";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}function $e(){return new Promise(function(t,r){var a="reset_notice_flags";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}n(406),n(407);var Je=n(408),Ke=n.n(Je);function Xe(){return Ze.apply(this,arguments)}function Ze(){return(Ze=z()(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ie(0));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function et(){ae()||(jQuery(".wps-connector").addClass("wps-is-stopping"),na(Fr()),Or("Stopping"),Er(),Ir("Canceling, please wait ...","(This may take up to 30 seconds)"),ne(!0))}function tt(){return Promise.all([new Promise(function(t,r){var a="get_all_collections";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}),new Promise(function(t,r){var a="get_selected_collections";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})])}function nt(){return Promise.all([$e(),ze()])}function rt(){return Promise.all([new Promise((r=z()(Ae.a.mark(function e(t,n){var r,a,s,i;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(WP_Shopify.reconnectingWebhooks||!WP_Shopify.selective_sync.all&&!WP_Shopify.selective_sync.products){e.next=10;break}return e.next=3,Object(Ue.a)(new Promise(function(t,r){var a="set_product_posts_relationships";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}));case 3:r=e.sent,a=De()(r,2),s=a[0],i=a[1],s?n(s):t(i),e.next=11;break;case 10:t();case 11:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})),new Promise((n=z()(Ae.a.mark(function e(t,n){var r,a,s,i;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!WP_Shopify.reconnectingWebhooks&&(WP_Shopify.selective_sync.all||WP_Shopify.selective_sync.custom_collections||WP_Shopify.selective_sync.smart_collections))return e.next=3,Object(Ue.a)(new Promise(function(t,r){var a="set_collection_posts_relationships";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}));e.next=10;break;case 3:r=e.sent,a=De()(r,2),s=a[0],i=a[1],s?n(s):t(i),e.next=11;break;case 10:t();case 11:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}))]);var n,r}function at(e){return{xMark:!0,stepText:"Syncing failed",headingText:"Syncing failed",noticeList:[{type:Yr(e),message:Vr(e)}]}}function st(e){return{xMark:!0,stepText:"Syncing failed from client-side",headingText:"Syncing failed",noticeList:[{type:"error",message:$r(e)}]}}var it=n(5),ct=n.n(it),ot=n(48),ut=n.n(ot),pt=n(21),lt=n.n(pt),dt=n(22),ft=n.n(dt),gt=n(23),ht=n.n(gt),yt=n(24),_t=n.n(yt),mt=n(25),wt=n.n(mt),bt=n(4),vt=n.n(bt),xt=n(2),kt=n.n(xt),St=n(16),jt=n.n(St),Pt=n(409);function Tt(){var n;jQuery(".wps-notice .notice-dismiss").on("click",(n=z()(Ae.a.mark(function e(t,n){var r,a,s,i;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jQuery(this).parent(".notice.is-dismissible"),a=r.attr("data-dismiss-name"))return e.prev=3,e.next=6,Object(Ue.a)(xe(a));e.next=15;break;case 6:s=e.sent,(i=De()(s,2))[0],i[1],e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("WP Shopify Admin Notice Error: ",e.t0);case 15:case"end":return e.stop()}},e,this,[[3,12]])})),function(e,t){return n.apply(this,arguments)}))}var Qt=n(29),Wt=n.n(Qt);function Ct(e){return{backgroundColor:e,width:"40px",height:"20px"}}var Ot=n(35),Et=n.n(Ot);function It(){return WP_Shopify.API.restUrl+WP_Shopify.API.namespace+"/"}function zt(){return It()+"settings/products_add_to_cart_color"}function Ht(e){return new Promise(function(t,n){Et.a.post(It()+"settings/products_variant_color",e).then(function(e){return t(e)}).catch(function(e){return n(ce(e.response))})})}function Bt(e){return new Promise(function(t,n){Et.a.post(It()+"settings/cart_checkout_color",e).then(function(e){return t(e)}).catch(function(e){return n(ce(e.response))})})}function Mt(e){return new Promise(function(t,n){Et.a.post(It()+"settings/cart_counter_color",e).then(function(e){return t(e)}).catch(function(e){return n(ce(e.response))})})}function Lt(e){return new Promise(function(t,n){Et.a.post(It()+"settings/cart_icon_color",e).then(function(e){return t(e)}).catch(function(e){return n(ce(e.response))})})}var At=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"updateColor",function(e){return Ht(e)}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(Ft,{color:WP_Shopify.settings.colorVariant,updateColor:this.updateColor,pickerType:"variant"})}}]),s}(kt.a.Component),Dt=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"updateColor",function(e){return r=e,new Promise(function(t,n){Et.a.post(zt(),r).then(function(e){return t(e)}).catch(function(e){return n(ce(e.response))})});var r}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(Ft,{color:WP_Shopify.settings.colorAddToCart,updateColor:this.updateColor,pickerType:"add-to-cart"})}}]),s}(kt.a.Component),Ut=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"updateColor",function(e){return Bt(e)}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(Ft,{color:WP_Shopify.settings.colorCheckout,updateColor:this.updateColor,pickerType:"checkout"})}}]),s}(kt.a.Component),Rt=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"updateColor",function(e){return Mt(e)}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(Ft,{color:WP_Shopify.settings.colorCartCounter,updateColor:this.updateColor,pickerType:"cart-counter"})}}]),s}(kt.a.Component),Nt=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"updateColor",function(e){return Lt(e)}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(Ft,{color:WP_Shopify.settings.colorCartIcon,updateColor:this.updateColor,pickerType:"cart-icon"})}}]),s}(kt.a.Component),Ft=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{ready:!1,displayColorPicker:!1,color:t.props.color,pickerStyles:Wt()({default:{wrapper:{padding:"4px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}),swatchStyles:Ct(t.props.color),componentId:"wps-component-"+t.props.pickerType+"-color-swatch",colorHasChanged:!1,submitButton:jQuery("#submitSettings")}),ct()(vt()(vt()(t)),"componentDidMount",function(e){jQuery('[data-testid="'+t.state.componentId+'"]').closest(".wps-form-group").find(".wps-placeholder").remove()}),ct()(vt()(vt()(t)),"closePicker",function(){return t.setState({displayColorPicker:!1})}),ct()(vt()(vt()(t)),"handleClick",function(){return t.setState({displayColorPicker:!t.state.displayColorPicker})}),ct()(vt()(vt()(t)),"handleClose",z()(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.colorHasChanged){e.next=2;break}return e.abrupt("return",t.closePicker());case 2:t.closePicker();case 3:case"end":return e.stop()}},e,this)}))),ct()(vt()(vt()(t)),"handleChange",function(e){t.setState({swatchStyles:Ct(e.hex),color:e.hex,colorHasChanged:e.hex!==t.state.color})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement("div",null,kt.a.createElement("div",{className:"wps-color-swatch-wrapper",style:this.state.pickerStyles.wrapper,onClick:this.handleClick,"data-testid":this.state.componentId},kt.a.createElement("div",{className:"wps-color-swatch",style:this.state.swatchStyles,"data-color":this.state.color,"data-picker-type":this.props.pickerType})),this.state.displayColorPicker?kt.a.createElement("div",{style:this.state.pickerStyles.popover},kt.a.createElement("div",{style:this.state.pickerStyles.cover,onClick:this.handleClose}),kt.a.createElement(Pt.ChromePicker,{color:this.state.color,onChange:this.handleChange})):null)}}]),s}(kt.a.Component);var qt=n(27),Gt=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:WP_Shopify.settings.productsHeading}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.j,{value:this.state.value,onChange:this.onUpdateHandle,"aria-describedby":"wps-products-heading-toggle",disabled:!oa(WP_Shopify.settings.productsHeadingToggle)})}}]),s}(kt.a.Component);var Vt=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:WP_Shopify.settings.collectionsHeading}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.j,{value:this.state.value,onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-heading-toggle",disabled:!oa(WP_Shopify.settings.collectionsHeadingToggle)})}}]),s}(kt.a.Component);var Yt=function(e){function s(){var e,n;lt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(n)),"state",{value:WP_Shopify.settings.relatedProductsHeading,valueHasChanged:!1}),ct()(vt()(vt()(n)),"updateValue",function(e){e!==n.state.value&&(n.state.valueHasChanged=!0),n.setState({value:e})}),ct()(vt()(vt()(n)),"onRelatedProductsHeadingBlur",function(){var t=z()(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.valueHasChanged){e.next=2;break}return e.abrupt("return",n.state.value);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.j,{value:this.state.value,onChange:this.updateValue,onBlur:this.onRelatedProductsHeadingBlur,"aria-describedby":"wps-related-products-heading-toggle",disabled:!oa(WP_Shopify.settings.relatedProductsHeadingToggle)})}}]),s}(kt.a.Component);var $t=function(e){function s(){var e,n;lt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(n)),"state",{checked:oa(WP_Shopify.settings.productsHeadingToggle)}),ct()(vt()(vt()(n)),"onChangeHandle",function(){var t=z()(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState(function(e){return{checked:!n.state.checked}}),jQuery('input[aria-describedby="wps-products-heading-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.e,{checked:this.state.checked,onChange:this.onChangeHandle,id:"wps-products-heading-toggle"})}}]),s}(kt.a.Component);var Jt=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{checked:oa(WP_Shopify.settings.collectionsHeadingToggle)}),ct()(vt()(vt()(t)),"onToggleHandle",function(e){t.setState(function(e){return{checked:!t.state.checked}}),jQuery('input[aria-describedby="wps-collections-heading-toggle"]').attr("disabled",t.state.checked)}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-collections-heading-toggle"})}}]),s}(kt.a.Component);var Kt=function(e){function s(){var e,n;lt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(n)),"state",{checked:oa(WP_Shopify.settings.relatedProductsHeadingToggle)}),ct()(vt()(vt()(n)),"onToggle",function(){var t=z()(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState(function(e){return{checked:!n.state.checked}}),jQuery('input[aria-describedby="wps-related-products-heading-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.e,{checked:this.state.checked,onChange:this.onToggle,id:"wps-related-products-heading-toggle"})}}]),s}(kt.a.Component);var Xt=function(e){function s(){var e,n;lt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(n)),"state",{checked:oa(WP_Shopify.settings.productsImagesSizingToggle)}),ct()(vt()(vt()(n)),"onToggleHandle",function(){var t=z()(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-products-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-products-images-sizing-toggle"})}}]),s}(kt.a.Component);var Zt=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:0===WP_Shopify.settings.productsImagesSizingWidth?"auto":WP_Shopify.settings.productsImagesSizingWidth}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),ct()(vt()(vt()(t)),"onBlurHandle",function(e){t.setState({value:be(e.currentTarget.value)})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(kt.a.Component);var en=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:0===WP_Shopify.settings.productsImagesSizingHeight?"auto":WP_Shopify.settings.productsImagesSizingHeight}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),ct()(vt()(vt()(t)),"onBlurHandle",function(e){t.setState({value:be(e.currentTarget.value)})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(kt.a.Component);var tn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:WP_Shopify.settings.productsImagesSizingCrop}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.i,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(kt.a.Component);var nn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:!1===WP_Shopify.settings.productsImagesSizingScale?"none":WP_Shopify.settings.productsImagesSizingScale}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.i,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(kt.a.Component);var rn=function(e){function s(){var e,n;lt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(n)),"state",{checked:oa(WP_Shopify.settings.collectionsImagesSizingToggle)}),ct()(vt()(vt()(n)),"onToggleHandle",function(){var t=z()(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-collections-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-collections-images-sizing-toggle"})}}]),s}(kt.a.Component);var an=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:0===WP_Shopify.settings.collectionsImagesSizingWidth?"auto":WP_Shopify.settings.collectionsImagesSizingWidth}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),ct()(vt()(vt()(t)),"onBlurHandle",function(e){t.setState({value:be(e.currentTarget.value)})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(kt.a.Component);var sn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:0===WP_Shopify.settings.collectionsImagesSizingHeight?"auto":WP_Shopify.settings.collectionsImagesSizingHeight}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),ct()(vt()(vt()(t)),"onBlurHandle",function(e){t.setState({value:be(e.currentTarget.value)})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(kt.a.Component);var cn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:WP_Shopify.settings.collectionsImagesSizingCrop}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.i,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(kt.a.Component);var on=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:!1===WP_Shopify.settings.collectionsImagesSizingScale?"none":WP_Shopify.settings.collectionsImagesSizingScale}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.i,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(kt.a.Component);var un=function(e){function s(){var e,n;lt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(n)),"state",{checked:oa(WP_Shopify.settings.relatedProductsImagesSizingToggle)}),ct()(vt()(vt()(n)),"onToggleHandle",function(){var t=z()(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-related-products-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-related-products-images-sizing-toggle"})}}]),s}(kt.a.Component);n(171),n(864);var pn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:0===WP_Shopify.settings.relatedProductsImagesSizingWidth?"auto":WP_Shopify.settings.relatedProductsImagesSizingWidth,valueHasChanged:!1}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),ct()(vt()(vt()(t)),"onBlurHandle",function(e){t.setState({value:be(e.currentTarget.value)})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(kt.a.Component);var ln=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:0===WP_Shopify.settings.relatedProductsImagesSizingHeight?"auto":WP_Shopify.settings.relatedProductsImagesSizingHeight,valueHasChanged:!1}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),ct()(vt()(vt()(t)),"onBlurHandle",function(e){t.setState({value:be(e.currentTarget.value)})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(kt.a.Component);var dn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:WP_Shopify.settings.relatedProductsImagesSizingCrop}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.i,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(kt.a.Component);var fn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:!1===WP_Shopify.settings.relatedProductsImagesSizingScale?"none":WP_Shopify.settings.relatedProductsImagesSizingScale}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.i,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!oa(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(kt.a.Component);var gn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{checked:oa(WP_Shopify.settings.enableCustomCheckoutDomain)}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({checked:!t.state.checked})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.c,{checked:this.state.checked,onChange:this.onUpdateHandle})}}]),s}(kt.a.Component);n(20);var hn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{checked:oa(WP_Shopify.settings.productsCompareAt)}),ct()(vt()(vt()(t)),"onChangeHandle",function(e){t.setState({checked:!t.state.checked})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.c,{checked:this.state.checked,onChange:this.onChangeHandle})}}]),s}(kt.a.Component);var yn=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{checked:oa(WP_Shopify.settings.productsShowPriceRange)}),ct()(vt()(vt()(t)),"onChangeHandle",function(e){t.setState({checked:!t.state.checked})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.c,{checked:this.state.checked,onChange:this.onChangeHandle})}}]),s}(kt.a.Component);var _n=function(e){function s(){var e,t;lt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=ht()(this,(e=_t()(s)).call.apply(e,[this].concat(r))),ct()(vt()(vt()(t)),"state",{value:!1===WP_Shopify.settings.checkoutButtonTarget?"none":WP_Shopify.settings.checkoutButtonTarget}),ct()(vt()(vt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return wt()(s,e),ft()(s,[{key:"render",value:function(){return kt.a.createElement(qt.i,{value:this.state.value,options:[{label:"Current tab / window",value:"_self"},{label:"New tab / window",value:"_blank"}],onChange:this.onUpdateHandle})}}]),s}(kt.a.Component);function mn(){return ze()}function wn(){if(WP_Shopify.selective_sync.all)return[];var e=[];return WP_Shopify.selective_sync.smart_collections&&e.push("smart_collections"),WP_Shopify.selective_sync.custom_collections&&e.push("custom_collections"),WP_Shopify.selective_sync.customers&&e.push("customers"),WP_Shopify.selective_sync.orders&&e.push("orders"),WP_Shopify.selective_sync.products&&(e.push("products"),e.push("collects")),e.push("shop"),e}function bn(e){var t=jQuery("#wps-sync-by-collections");t.empty(),o()(e,function(e){t.append('<option id="wps-collection-option" value="'+e.id+'">'+e.title+"</option>")})}function vn(){return xn.apply(this,arguments)}function xn(){return(xn=z()(Ae.a.mark(function e(){var n,r,a,s,i,c;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(fe()){e.next=2;break}return e.abrupt("return",zr());case 2:return e.next=4,Object(Ue.a)(tt());case 4:if(n=e.sent,r=De()(n,2),a=r[0],s=r[1],a)return e.abrupt("return",zr($r(a)));e.next=10;break;case 10:if(qr(s))return e.abrupt("return",zr(Vr(pe(s))));e.next=12;break;case 12:i=s[0],c=s[1],i.success&&w()(i,"data")?(bn(i.data),w()(c,"data")?(t=c.data,o()(t,function(e){jQuery('#wps-sync-by-collections option[value="'+e+'"]').attr("selected",!0).prop("selected",!0)})):Mr()):zr(),jQuery("#wps-sync-by-collections").trigger("chosen:updated"),jQuery("#wps-sync-by-collections-wrapper .spinner").hide(),jQuery("#wps_sync_by_collections_chosen").addClass("wps-is-visible");case 18:case"end":return e.stop()}var t},e,this)}))).apply(this,arguments)}function kn(){var t,e,n;jQuery("#wps-settings").submit(function(e){e.preventDefault()}).validate({rules:{"wps_settings_general[wps_general_url_products]":{alphaNumeric:!1},"wps_settings_general[wps_general_url_collections]":{alphaNumeric:!1},"wps_settings_general[wps_general_num_posts]":{number:!0},"wps_settings_general[wps_general_webhooks_products]":{urlRule:!0}},errorPlacement:function(e){Ar(e.text(),"error")},submitHandler:(t=z()(Ae.a.mark(function e(t){var n,r,a,s,i,c,o,u,p,l,d,f,g,h,y,_,m,w,b,v,x,k,S,j,P,T,Q,W,C,O,E,I,z,H,B,M,L,A,D,U,R,N,F,q,G,V,Y,$,J,K,X,Z,ee,te,ne,re,ae,se,ie,ce,oe,ue,pe,le,de,fe,ge,he,ye,_e,me,we,be,ve,xe,ke,Se,je,Pe,Te,Qe,We,Ce,Oe,Ee,Ie,ze,He,Be,Me,Le;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=jQuery(t).find('input[type="submit"]'),a=jQuery(t).find(".spinner"),jQuery("#wps_settings_general_urls_nonce_id").val(),s=jQuery(t).find("#wps_settings_general_url_products").val(),i=jQuery(t).find("#wps_settings_general_url_collections").val(),c=jQuery(t).find("#wps_settings_general_url_webhooks").val(),o=jQuery(t).find("#wps_settings_general_num_posts").val(),na(r),Hr(a),Xr(c)&&(c=Zr(c),jQuery(t).find("#wps_settings_general_url_webhooks").val(c)),u=jQuery(t).find("#wps_settings_general_styles_all").attr("checked"),p=jQuery(t).find("#wps_settings_general_styles_core").attr("checked"),l=jQuery(t).find("#wps_settings_general_styles_grid").attr("checked"),d=jQuery(t).find("#wps_settings_general_price_with_currency").attr("checked"),f=jQuery(t).find("#wps_settings_general_cart_loaded").attr("checked"),g=jQuery(t).find("#wps_settings_general_enable_beta").attr("checked"),h=jQuery(t).find("#wps_settings_general_enable_cart_terms").attr("checked"),y=jQuery(t).find("#wps_settings_general_cart_terms_content").val(),_=jQuery(t).find("#wps_settings_general_products_link_to_shopify").attr("checked"),m=jQuery(t).find("#wps_settings_general_show_breadcrumbs").attr("checked"),w=jQuery(t).find("#wps_settings_general_hide_pagination").attr("checked"),b=jQuery(t).find("#wps_settings_general_save_connection_only").attr("checked"),v=jQuery(t).find("#wps_settings_general_related_products_show"),x=jQuery(t).find("#wps_settings_general_related_products_sort_random"),k=jQuery(t).find("#wps_settings_general_related_products_sort_collections"),S=jQuery(t).find("#wps_settings_general_related_products_sort_tags"),j=jQuery(t).find("#wps_settings_general_related_products_sort_vendors"),P=jQuery(t).find("#wps_settings_general_related_products_sort_types"),T=jQuery(t).find("#wps_settings_general_related_products_amount").val(),Q=jQuery(t).find('.wps-color-swatch[data-picker-type="add-to-cart"]').attr("data-color"),W=jQuery(t).find('.wps-color-swatch[data-picker-type="variant"]').attr("data-color"),C=jQuery(t).find('.wps-color-swatch[data-picker-type="checkout"]').attr("data-color"),O=jQuery(t).find('.wps-color-swatch[data-picker-type="cart-icon"]').attr("data-color"),E=jQuery(t).find('.wps-color-swatch[data-picker-type="cart-counter"]').attr("data-color"),I=jQuery(t).find("#wps-products-heading-toggle").prop("checked"),z=jQuery(t).find("#wps-collections-heading-toggle").prop("checked"),H=jQuery(t).find("#wps-related-products-heading-toggle").prop("checked"),B=jQuery(t).find("#wps-settings-related-products-heading input").val(),M=jQuery(t).find("#wps-settings-products-heading input").val(),L=jQuery(t).find("#wps-settings-collections-heading input").val(),A=jQuery(t).find("#wps-enable-custom-checkout-domain input").prop("checked"),D=jQuery(t).find("#wps-settings-products-show-price-range input").prop("checked"),U=jQuery(t).find("#wps-products-images-sizing-toggle").prop("checked"),R=jQuery(t).find("#wps-settings-products-images-sizing-width input").val(),N=jQuery(t).find("#wps-settings-products-images-sizing-height input").val(),F=jQuery(t).find("#wps-settings-products-images-sizing-crop select").val(),q=jQuery(t).find("#wps-settings-products-images-sizing-scale select").val(),G=jQuery(t).find("#wps-settings-collections-images-sizing-toggle input").prop("checked"),V=jQuery(t).find("#wps-settings-collections-images-sizing-width input").val(),Y=jQuery(t).find("#wps-settings-collections-images-sizing-height input").val(),$=jQuery(t).find("#wps-settings-collections-images-sizing-crop select").val(),J=jQuery(t).find("#wps-settings-collections-images-sizing-scale select").val(),K=jQuery(t).find("#wps-related-products-images-sizing-toggle").prop("checked"),X=jQuery(t).find("#wps-settings-related-products-images-sizing-width input").val(),Z=jQuery(t).find("#wps-settings-related-products-images-sizing-height input").val(),ee=jQuery(t).find("#wps-settings-related-products-images-sizing-crop select").val(),te=jQuery(t).find("#wps-settings-related-products-images-sizing-scale select").val(),ne=jQuery(t).find("#wps-settings-products-compare-at input").prop("checked"),re=jQuery(t).find("#wps-settings-checkout-button-target select").val(),se=0,ie=jQuery(t).find("#wps-sync-by-collections").val(),ce=parseInt(jQuery(t).find("#wps-items-per-request-amount").text()),oe=jQuery(t).find("#wps_settings_general_selective_sync_all"),ue=void 0!==oe&&jQuery(t).find("#wps_settings_general_selective_sync_all").attr("checked"),pe=jQuery(t).find("#wps_settings_general_selective_sync_products").attr("checked"),le=jQuery(t).find("#wps_settings_general_selective_sync_collections").attr("checked"),de=jQuery(t).find("#wps_settings_general_selective_sync_customers").attr("checked"),fe=jQuery(t).find("#wps_settings_general_selective_sync_orders").attr("checked"),v.is(":checked")&&(se=1),x.is(":checked")&&(ae=x.val()),k.is(":checked")&&(ae=k.val()),S.is(":checked")&&(ae=S.val()),j.is(":checked")&&(ae=j.val()),P.is(":checked")&&(ae=P.val()),ge=void 0===oe||void 0!==ue&&!1!==ue?1:0,he="undefined"!==ut()(pe)&&!1!==pe?1:0,ye="undefined"!==ut()(le)&&!1!==le?1:0,_e="undefined"!==ut()(de)&&!1!==de?1:0,me="undefined"!==ut()(fe)&&!1!==fe?1:0,we="undefined"!==ut()(_)&&!1!==_?1:0,be="undefined"!==ut()(m)&&!1!==m?1:0,ve="undefined"!==ut()(w)&&!1!==w?1:0,xe="undefined"!==ut()(b)&&!1!==b?1:0,ke="undefined"!==ut()(f)&&!1!==f?1:0,Se="undefined"!==ut()(g)&&!1!==g?1:0,je="undefined"!==ut()(h)&&!1!==h?1:0,Pe="undefined"!==ut()(u)&&!1!==u?1:0,Te="undefined"!==ut()(p)&&!1!==p?1:0,Qe="undefined"!==ut()(l)&&!1!==l?1:0,We="undefined"!==ut()(d)&&!1!==d?1:0,n={wps_settings_general_products_url:s,wps_settings_general_collections_url:i,wps_settings_general_url_webhooks:c,wps_settings_general_selective_sync_customers:_e,wps_settings_general_selective_sync_orders:me,wps_settings_general_num_posts:o,wps_settings_general_products_link_to_shopify:we,wps_settings_general_show_breadcrumbs:be,wps_settings_general_hide_pagination:ve,wps_settings_general_styles_all:Pe,wps_settings_general_styles_core:Te,wps_settings_general_styles_grid:Qe,wps_settings_general_price_with_currency:We,wps_settings_general_cart_loaded:ke,wps_settings_general_enable_beta:Se,wps_settings_general_enable_cart_terms:je},ct()(n,"wps_settings_general_enable_cart_terms",je),ct()(n,"wps_settings_general_save_connection_only",xe),ct()(n,"wps_settings_general_related_products_show",se),ct()(n,"wps_settings_general_related_products_sort",ae),ct()(n,"wps_settings_general_related_products_amount",T),ct()(n,"wps_settings_general_cart_terms_content",y),ct()(n,"wps_settings_general_items_per_request",ce),ct()(n,"wps_settings_general_add_to_cart_color",Q),ct()(n,"wps_settings_general_variant_color",W),ct()(n,"wps_settings_general_checkout_button_color",C),ct()(n,"wps_settings_general_cart_icon_color",O),ct()(n,"wps_settings_general_cart_counter_color",E),ct()(n,"wps_settings_general_products_heading_toggle",I),ct()(n,"wps_settings_general_products_heading",M),ct()(n,"wps_settings_general_collections_heading_toggle",z),ct()(n,"wps_settings_general_collections_heading",L),ct()(n,"wps_settings_general_related_products_heading_toggle",H),ct()(n,"wps_settings_general_related_products_heading",B),ct()(n,"wps_settings_products_images_sizing_toggle",U),ct()(n,"wps_settings_products_images_sizing_width",R),ct()(n,"wps_settings_products_images_sizing_height",N),ct()(n,"wps_settings_products_images_sizing_crop",F),ct()(n,"wps_settings_products_images_sizing_scale",q),ct()(n,"wps_settings_collections_images_sizing_toggle",G),ct()(n,"wps_settings_collections_images_sizing_width",V),ct()(n,"wps_settings_collections_images_sizing_height",Y),ct()(n,"wps_settings_collections_images_sizing_crop",$),ct()(n,"wps_settings_collections_images_sizing_scale",J),ct()(n,"wps_settings_related_products_images_sizing_toggle",K),ct()(n,"wps_settings_related_products_images_sizing_width",X),ct()(n,"wps_settings_related_products_images_sizing_height",Z),ct()(n,"wps_settings_related_products_images_sizing_crop",ee),ct()(n,"wps_settings_related_products_images_sizing_scale",te),ct()(n,"wps_settings_products_compare_at",ne),ct()(n,"wps_settings_checkout_enable_custom_checkout_domain",A),ct()(n,"wps_settings_products_show_price_range",D),ct()(n,"wps_settings_checkout_button_target",re),ct()(n,"wps_settings_general_selective_sync_all",ge),ct()(n,"wps_settings_general_selective_sync_products",he),ct()(n,"wps_settings_general_selective_sync_collections",ye),ct()(n,"wps_settings_general_selective_sync_shop",1),ct()(n,"wps_settings_general_sync_by_collections",ie),Ce=n,WP_Shopify.selective_sync.all=ge,WP_Shopify.selective_sync.products=he,WP_Shopify.selective_sync.custom_collections=ye,WP_Shopify.selective_sync.smart_collections=ye,WP_Shopify.selective_sync.customers=_e,WP_Shopify.selective_sync.orders=me,WP_Shopify.selective_sync.shop=1,e.next=100,Object(Ue.a)(Re(Ce));case 100:if(Oe=e.sent,Ee=De()(Oe,2),Ie=Ee[0],ze=Ee[1],Ie)return Ar($r(Ie)),e.abrupt("return");e.next=107;break;case 107:if(qr(ze))return Ar(Vr(ze),Yr(ze)),e.abrupt("return");e.next=110;break;case 110:return e.next=112,Object(Ue.a)(mn());case 112:if(He=e.sent,Be=De()(He,2),Me=Be[0],Le=Be[1],Me)return Ar($r(Me)),e.abrupt("return");e.next=119;break;case 119:if(qr(Le))return Ar(Vr(Le),Yr(Le)),e.abrupt("return");e.next=122;break;case 122:WP_Shopify.itemsPerRequest=ce,Ar("Successfully updated WP Shopify settings","updated");case 124:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}),jQuery(".wps-checkbox-all input").on("click",function(){var e=jQuery(this);"undefined"!==ut()(e.attr("checked"))&&!1!==e.attr("checked")?e.closest(".wps-checkbox-wrapper").find(".wps-checkbox").attr("checked",!1).prop("checked",!1).attr("disabled",!0).parent().addClass("wps-is-disabled"):e.closest(".wps-checkbox-wrapper").find(".wps-checkbox").attr("disabled",!1).parent().removeClass("wps-is-disabled")}),jQuery(".wps-sub-section-link").on("click",function(e){e.preventDefault();var t=jQuery(this).data("sub-section");jQuery(".wps-sub-section-link").removeClass("current"),jQuery(this).addClass("current"),jQuery(".wps-admin-sub-section").removeClass("is-active"),jQuery("#"+t).addClass("is-active")}),jQuery(".wps-chosen").chosen({no_results_text:"Oops, nothing found!",width:"300px"}).change(function(e){}),vn(),e=jQuery(".wps-slider-items-per-request"),n=jQuery("#wps-items-per-request-amount"),e.slider({range:"max",value:parseInt(n.text()),min:1,max:parseInt(WP_Shopify.maxItemsPerRequest),slide:function(e,t){n.text(t.value)}}),jt.a.render(kt.a.createElement(Dt,null),document.getElementById("wps-color-picker-add-to-cart")),jt.a.render(kt.a.createElement(At,null),document.getElementById("wps-color-picker-variant")),jt.a.render(kt.a.createElement(Ut,null),document.getElementById("wps-color-picker-checkout")),jt.a.render(kt.a.createElement(Rt,null),document.getElementById("wps-color-picker-cart-counter")),jt.a.render(kt.a.createElement(Nt,null),document.getElementById("wps-color-picker-cart-icon")),jt.a.render(kt.a.createElement($t,null),document.getElementById("wps-settings-products-heading-toggle")),jt.a.render(kt.a.createElement(Gt,null),document.getElementById("wps-settings-products-heading")),jt.a.render(kt.a.createElement(Jt,null),document.getElementById("wps-settings-collections-heading-toggle")),jt.a.render(kt.a.createElement(Vt,null),document.getElementById("wps-settings-collections-heading")),jt.a.render(kt.a.createElement(Yt,null),document.getElementById("wps-settings-related-products-heading")),jt.a.render(kt.a.createElement(Kt,null),document.getElementById("wps-settings-related-products-heading-toggle")),jt.a.render(kt.a.createElement(Xt,null),document.getElementById("wps-settings-products-images-sizing-toggle")),jt.a.render(kt.a.createElement(Zt,null),document.getElementById("wps-settings-products-images-sizing-width")),jt.a.render(kt.a.createElement(en,null),document.getElementById("wps-settings-products-images-sizing-height")),jt.a.render(kt.a.createElement(tn,null),document.getElementById("wps-settings-products-images-sizing-crop")),jt.a.render(kt.a.createElement(nn,null),document.getElementById("wps-settings-products-images-sizing-scale")),jt.a.render(kt.a.createElement(rn,null),document.getElementById("wps-settings-collections-images-sizing-toggle")),jt.a.render(kt.a.createElement(an,null),document.getElementById("wps-settings-collections-images-sizing-width")),jt.a.render(kt.a.createElement(sn,null),document.getElementById("wps-settings-collections-images-sizing-height")),jt.a.render(kt.a.createElement(cn,null),document.getElementById("wps-settings-collections-images-sizing-crop")),jt.a.render(kt.a.createElement(on,null),document.getElementById("wps-settings-collections-images-sizing-scale")),jt.a.render(kt.a.createElement(un,null),document.getElementById("wps-settings-related-products-images-sizing-toggle")),jt.a.render(kt.a.createElement(pn,null),document.getElementById("wps-settings-related-products-images-sizing-width")),jt.a.render(kt.a.createElement(ln,null),document.getElementById("wps-settings-related-products-images-sizing-height")),jt.a.render(kt.a.createElement(dn,null),document.getElementById("wps-settings-related-products-images-sizing-crop")),jt.a.render(kt.a.createElement(fn,null),document.getElementById("wps-settings-related-products-images-sizing-scale")),jt.a.render(kt.a.createElement(gn,null),document.getElementById("wps-enable-custom-checkout-domain")),jt.a.render(kt.a.createElement(hn,null),document.getElementById("wps-settings-products-compare-at")),jt.a.render(kt.a.createElement(yn,null),document.getElementById("wps-settings-products-show-price-range")),jt.a.render(kt.a.createElement(_n,null),document.getElementById("wps-settings-checkout-button-target"))}function Sn(e){return e.preventDefault(),Cr("Disconnecting","Cancel disconnecting"),new Promise(function(){var n=z()(Ae.a.mark(function e(f,t){var n,r,a,s,i,c,o,u,p,l,d,g,h,y,_,m,w,b,v,x;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ir("Checking for active connection ..."),re(WP_Shopify.isDisconnecting=!0),e.next=5,Object(Ue.a)(new Promise(function(t,r){var a="check_connection";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}));case 5:if(n=e.sent,r=De()(n,2),a=r[0],s=r[1],a)return Hn(st(a)),f(),e.abrupt("return");e.next=13;break;case 13:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),f(),e.abrupt("return");e.next=17;break;case 17:if(qr(s))return e.next=20,Object(Ue.a)(Promise.all([ze(),Oe(),Se(),$e()]));e.next=42;break;case 20:if(i=e.sent,c=De()(i,2),o=c[0],u=c[1],o)return Hn(st(o)),f(),e.abrupt("return");e.next=28;break;case 28:if(qr(u))return Hn(at(pe(u))),f(),e.abrupt("return");e.next=32;break;case 32:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),f(),e.abrupt("return");e.next=36;break;case 36:return Ar("Successfully removed all data","updated"),Lr("notice_warning_app_uninstalled"),me(!1),Hn({headingText:"Disconnected",stepText:"Finished disconnecting"}),f(),e.abrupt("return");case 42:return Er(),Ir("Removing added Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),e.next=46,Object(Ue.a)(hr());case 46:if(p=e.sent,l=De()(p,2),d=l[0],g=l[1],d)return Hn(st(d)),f(),e.abrupt("return");e.next=54;break;case 54:if(qr(g))return Hn(at(pe(g))),f(),e.abrupt("return");e.next=58;break;case 58:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),f(),e.abrupt("return");e.next=62;break;case 62:return e.next=64,Object(Ue.a)(mr());case 64:if(h=e.sent,y=De()(h,2),_=y[0],m=y[1],_)return Hn(st(_)),f(),e.abrupt("return");e.next=72;break;case 72:if(qr(m))return Hn(at(pe(m))),f(),e.abrupt("return");e.next=76;break;case 76:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),f(),e.abrupt("return");e.next=80;break;case 80:return me(!1),Er(),Ir("Removing webhooks ...","(Please wait, this might take 30 seconds or so)"),e.next=85,Object(Ue.a)(Be());case 85:if(w=e.sent,b=De()(w,2),v=b[0],x=b[1],v)return Hn(st(v)),f(),e.abrupt("return");e.next=93;break;case 93:if(qr(x))return Hn(at(pe(x))),f(),e.abrupt("return");e.next=97;break;case 97:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),f(),e.abrupt("return");e.next=101;break;case 101:Kn(z()(Ae.a.mark(function e(){var t,n,r,a,s,i,c,o,u,p,l,d;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.a)(Se());case 2:if(t=e.sent,n=De()(t,2),r=n[0],a=n[1],r)return Hn(st(r)),f(),e.abrupt("return");e.next=10;break;case 10:if(qr(a))return Hn(at(pe(a))),f(),e.abrupt("return");e.next=14;break;case 14:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),f(),e.abrupt("return");e.next=18;break;case 18:return Er(),Ir("Cleaning up ..."),e.next=22,Object(Ue.a)(Xe());case 22:if(s=e.sent,i=De()(s,2),c=i[0],o=i[1],c)return Hn(st(c)),f(),e.abrupt("return");e.next=30;break;case 30:if(qr(o))return Hn(at(pe(o))),f(),e.abrupt("return");e.next=34;break;case 34:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),f(),e.abrupt("return");e.next=38;break;case 38:return e.next=40,Object(Ue.a)(nt());case 40:if(u=e.sent,p=De()(u,2),l=p[0],d=p[1],l)return Hn(st(l)),f(),e.abrupt("return");e.next=48;break;case 48:if(qr(d))return Hn(at(pe(d))),f(),e.abrupt("return");e.next=52;break;case 52:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),f(),e.abrupt("return");e.next=56;break;case 56:Hn({headingText:"Disconnected",stepText:"Finished disconnecting"});case 57:case"end":return e.stop()}},e,this)})));case 102:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function jn(){var e=jQuery("#wps-connect");e.find('input[type="submit"]');jQuery("#wps-connect").off("submit.connect"),jQuery("#wps-connect").off("submit.validate"),jQuery("#wps-connect").data("validator",null),e.off("submit.disconnect").on("submit.disconnect",Sn)}function Pn(){jn()}function Tn(e){return Qn.apply(this,arguments)}function Qn(){return(Qn=z()(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Cr("Reconnecting Webhooks","Cancel webhooks sync"),WP_Shopify.reconnectingWebhooks=!0,WP_Shopify.isSyncing=!0,e.abrupt("return",new Promise(function(){var n=z()(Ae.a.mark(function e(g,t){var n,r,a,s,i,c,o,h;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ir("Preparing sync ..."),e.next=3,Object(Ue.a)(hr());case 3:if(n=e.sent,r=De()(n,2),a=r[0],s=r[1],a)return Hn(st(a)),g(),e.abrupt("return");e.next=11;break;case 11:if(qr(s))return Hn(at(s)),g(),e.abrupt("return");e.next=15;break;case 15:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),g(),e.abrupt("return");e.next=19;break;case 19:return Er(),Ir("Removing any existing webhooks first ...","(Please wait, this might take 30 seconds or so)"),e.next=23,Object(Ue.a)(Be());case 23:if(i=e.sent,c=De()(i,2),o=c[0],h=c[1],o)return Hn(st(o)),g(),e.abrupt("return");e.next=31;break;case 31:if(qr(h))return Hn(at(h)),g(),e.abrupt("return");e.next=35;break;case 35:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),g(),e.abrupt("return");e.next=39;break;case 39:Kn(z()(Ae.a.mark(function e(){var t,n,r,a,s,i,c,o,u,p,l,d,f;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.a)(vr());case 2:if(t=e.sent,n=De()(t,2),r=n[0],a=n[1],r)return Hn(st(r)),g(),e.abrupt("return");e.next=10;break;case 10:if(qr(a))return Hn(at(a)),g(),e.abrupt("return");e.next=14;break;case 14:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),g(),e.abrupt("return");e.next=18;break;case 18:return s=ge(ye(he(ca(a)))),e.next=21,Object(Ue.a)(_r(s,["connection","shop","smart_collections","custom_collections","products","collects","orders","customers"]));case 21:if(i=e.sent,c=De()(i,2),o=c[0],u=c[1],o)return Hn(st(o)),g(),e.abrupt("return");e.next=29;break;case 29:if(qr(u))return Hn(at(u)),g(),e.abrupt("return");e.next=33;break;case 33:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),g(),e.abrupt("return");e.next=37;break;case 37:return Er(),Ir("Syncing new webhooks ..."),e.next=41,Object(Ue.a)(Ln(!0,["webhooks"]));case 41:if(p=e.sent,l=De()(p,2),d=l[0],f=l[1],d)return Hn(st(d)),g(),e.abrupt("return");e.next=49;break;case 49:if(qr(f))return Hn(at(f)),g(),e.abrupt("return");e.next=53;break;case 53:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),g(),e.abrupt("return");e.next=57;break;case 57:Rn(f.data),re(!0),Fn(),gr(h.data);case 61:case"end":return e.stop()}},e,this)})));case 40:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Wn(){var t,n;jQuery("#wps-button-sync").off().on("click",function(e){return e.preventDefault(),Cr("Resyncing","Cancel resync"),new Promise((n=z()(Ae.a.mark(function e(k,t){var n,r,a,s,i,c,o,u,p,l,d,f;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Er(),Ir("Preparing for sync ..."),e.next=4,Object(Ue.a)(mn());case 4:if(n=e.sent,r=De()(n,2),a=r[0],s=r[1],a)return Hn(st(a)),k(),e.abrupt("return");e.next=12;break;case 12:if(qr(s))return Hn(at(s)),k(),e.abrupt("return");e.next=16;break;case 16:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=20;break;case 20:return Er(),Ir("Validating Shopify connection ..."),e.next=24,Object(Ue.a)(Ye());case 24:if(i=e.sent,c=De()(i,2),o=c[0],u=c[1],o)return Hn(st(o)),k(),e.abrupt("return");e.next=32;break;case 32:if(qr(u))return Hn(at(u)),k(),e.abrupt("return");e.next=36;break;case 36:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=40;break;case 40:return Er(),Ir("Removing any existing data first ...","(Please wait, this might take 30 seconds or so)"),e.next=44,Object(Ue.a)(mr());case 44:if(p=e.sent,l=De()(p,2),d=l[0],f=l[1],d)return Hn(st(d)),k(),e.abrupt("return");e.next=52;break;case 52:if(qr(f))return Hn(at(f)),k(),e.abrupt("return");e.next=56;break;case 56:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=60;break;case 60:Zn(function(){var t=z()(Ae.a.mark(function e(t){var n,r,a,s,i,c,o,u,p,l,d,f,g,h,y,_,m,w,b,v,x;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Gr(t))return Hn(st(t)),k(),e.abrupt("return");e.next=4;break;case 4:if(qr(t))return Hn(at(t)),k(),e.abrupt("return");e.next=8;break;case 8:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=12;break;case 12:return re(!1),e.next=15,Object(Ue.a)(hr());case 15:if(n=e.sent,r=De()(n,2),a=r[0],s=r[1],a)return Hn(st(a)),k(),e.abrupt("return");e.next=23;break;case 23:if(qr(s))return Hn(at(s)),k(),e.abrupt("return");e.next=27;break;case 27:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=31;break;case 31:return Er(),Ir("Determining the number of items to sync ..."),e.next=35,Object(Ue.a)(vr());case 35:if(i=e.sent,c=De()(i,2),o=c[0],u=c[1],o)return Hn(st(o)),k(),e.abrupt("return");e.next=43;break;case 43:if(qr(u))return Hn(at(u)),k(),e.abrupt("return");e.next=47;break;case 47:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=51;break;case 51:return p=ge(ye(he(ca(u)))),e.next=54,Object(Ue.a)(_r(p,["webhooks"]));case 54:if(l=e.sent,d=De()(l,2),f=d[0],g=d[1],f)return Hn(st(f)),k(),e.abrupt("return");e.next=62;break;case 62:if(qr(g))return Hn(at(g)),k(),e.abrupt("return");e.next=66;break;case 66:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=70;break;case 70:return e.next=72,Object(Ue.a)(ve());case 72:if(h=e.sent,y=De()(h,2),_=y[0],m=y[1],_)return Hn(st(_)),k(),e.abrupt("return");e.next=80;break;case 80:if(qr(m))return Hn(at(m)),k(),e.abrupt("return");e.next=84;break;case 84:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=88;break;case 88:return e.next=90,Object(Ue.a)(Ln(!0,wn(),["webhooks"]));case 90:if(w=e.sent,b=De()(w,2),v=b[0],x=b[1],v)return Hn(st(v)),k(),e.abrupt("return");e.next=98;break;case 98:if(qr(x))return Hn(at(x)),k(),e.abrupt("return");e.next=102;break;case 102:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=106;break;case 106:Er(),Br("Cancel resyncing process"),Ir("Syncing Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),Rn(_e(p,["webhooks"])),Fn(),wr(p);case 112:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}());case 61:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}));var n}),jQuery(".wps-is-active #wps-button-clear-cache").unbind().on("click",(t=z()(Ae.a.mark(function e(t){var n,r,a,s,i,c;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=jQuery(this),r=n.parent().find(".spinner"),na(n),Hr(r),sa(n),se(),e.next=9,Object(Ue.a)(mn());case 9:a=e.sent,s=De()(a,2),i=s[0],c=s[1],i&&Ar($r(i)),qr(c)&&(Vr(c),Yr(c)),Ar("Successfully cleared the WP Shopify cache","updated");case 16:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})),jQuery("#wps-button-clear-all-data").unbind().on("click",(n=z()(Ae.a.mark(function e(t){var n,r,a,s,i,c,o,u,p;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Warning: This will delete all WordPress posts created from your Shopify data. Do you really want to remove?"))return t.preventDefault(),n=jQuery(this),r=n.parent().find(".spinner"),na(n),Hr(r),sa(n),se(),WP_Shopify.isClearing=!0,e.prev=9,e.next=12,Ye();e.next=65;break;case 12:if(qr(a=e.sent))return Ar(Vr(a),Yr(a)),e.abrupt("return");e.next=16;break;case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(9),Ar($r(e.t0)),e.abrupt("return");case 22:if(fe()){e.next=51;break}return e.prev=23,e.next=26,mn();case 26:if(qr(s=e.sent))return Ar(Vr(s),Yr(s)),e.abrupt("return");e.next=30;break;case 30:e.next=36;break;case 32:return e.prev=32,e.t1=e.catch(23),Ar($r(e.t1)),e.abrupt("return");case 36:return e.next=38,Object(Ue.a)(Promise.all([Ee(),Se(),$e()]));case 38:if(i=e.sent,c=De()(i,2),o=c[0],u=c[1],o)return Ar($r(o)),e.abrupt("return");e.next=45;break;case 45:if(qr(u))return Ar(pe(u)),e.abrupt("return");e.next=48;break;case 48:Zn(z()(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ar("Successfully removed all data","updated"),Lr("notice_warning_app_uninstalled"),e.abrupt("return");case 3:case"end":return e.stop()}},e,this)}))),e.next=65;break;case 51:return e.prev=51,e.next=54,Ee();case 54:if(qr(p=e.sent))return Ar(Vr(p),Yr(p)),e.abrupt("return");e.next=58;break;case 58:e.next=64;break;case 60:return e.prev=60,e.t2=e.catch(51),Ar($r(e.t2)),e.abrupt("return");case 64:Zn(z()(Ae.a.mark(function e(){var t,n,r;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hr();case 3:if(qr(t=e.sent))return Ar(Vr(t),Yr(t)),e.abrupt("return");e.next=7;break;case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),Ar($r(e.t0)),e.abrupt("return");case 13:if(fe())return e.prev=14,e.next=17,Be();e.next=30;break;case 17:if(qr(n=e.sent))return Ar(Vr(n),Yr(n)),e.abrupt("return");e.next=21;break;case 21:e.next=27;break;case 23:return e.prev=23,e.t1=e.catch(14),Ar($r(e.t1)),e.abrupt("return");case 27:Kn(z()(Ae.a.mark(function e(){var t;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt();case 3:if(qr(t=e.sent))return Ar(Vr(t),Yr(t)),e.abrupt("return");e.next=7;break;case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),Ar($r(e.t0)),e.abrupt("return");case 13:Ar("Successfully removed all data","updated"),Lr("notice_warning_app_uninstalled");case 15:case"end":return e.stop()}},e,this,[[0,9]])}))),e.next=45;break;case 30:return e.prev=30,e.next=33,nt();case 33:if(qr(r=e.sent))return Ar(Vr(r),Yr(r)),e.abrupt("return");e.next=37;break;case 37:e.next=43;break;case 39:return e.prev=39,e.t2=e.catch(30),Ar($r(e.t2)),e.abrupt("return");case 43:Ar("Successfully removed all data","updated"),Lr("notice_warning_app_uninstalled");case 45:case"end":return e.stop()}},e,this,[[0,9],[14,23],[30,39]])})));case 65:case"end":return e.stop()}},e,this,[[9,18],[23,32],[51,60]])})),function(e){return n.apply(this,arguments)})),jQuery("#wps-button-webhooks").off().on("click",Tn)}function Cn(e){var t=[];return g()(e.data.syncing_errors)||o()(e.data.syncing_errors.error,function(e){t.push({type:"error",message:e})}),g()(e.data.syncing_warnings)||o()(e.data.syncing_warnings.warning,function(e){t.push({type:"warning",message:e})}),t}function On(e,t){var n=!1;return o()(e,function(e){e.type===t&&(n=!0)}),n}function En(e){return On(e,"error")}function In(e){return On(e,"warning")}function zn(){fe()?(Wn(),Pn(),jQuery("#submitConnect").val("Disconnect your Shopify store").prop("disabled",!1).attr("disabled",!1).attr("name","submitDisconnect").attr("id","submitDisconnect"),jQuery("#wps-connect .wps-form-group input").prop("disabled",!0).attr("disabled",!0),jQuery(".tab-content .wps-is-not-active").removeClass("wps-is-not-active").addClass("wps-is-active"),jQuery('.wps-is-active.wps-button-group input[type="submit"]').prop("disabled",!1),jQuery("#wps-sync-by-collections-checkbox-wrapper").addClass("wps-is-hidden"),jQuery("#wps-sync-by-collections-wrapper").removeClass("wps-is-hidden"),vn()):(zr(),jQuery("#wps-connect .wps-form-group input").val("").removeClass("valid").prop("disabled",!1),ra(Fr()),na(jQuery("#wps-button-sync, #wps-button-webhooks")),jQuery('#submitDisconnect, #wps-connect .wps-button-group input[type="submit"]').val("Connect your Shopify store").prop("disabled",!1).attr("disabled",!1).attr("name","submitConnect").attr("id","submitConnect"),jr())}function Hn(){return Bn.apply(this,arguments)}function Bn(){return(Bn=z()(Ae.a.mark(function e(){var u,p,l,d=arguments;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=0<d.length&&void 0!==d[0]&&d[0],Z())return e.prev=2,e.next=5,Ve();e.next=32;break;case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("WP Shopify error: Failed to kill sync: ",e.t0);case 10:if($n())return Mn(),Nr(u),zn(),e.abrupt("return");e.next=15;break;case 15:return e.prev=15,e.next=18,new Promise(function(t,r){var a="get_syncing_notices";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})});case 18:p=e.sent,e.next=24;break;case 21:e.prev=21,e.t1=e.catch(15),console.error("WP Shopify error: Failed to get sync notices: ",e.t1);case 24:WP_Shopify.reconnectingWebhooks=!1,Mn(),zn(),l=u.noticeList?u.noticeList:we((o=Cn(p),Ke()(o,"type","desc"))),se(),mn(),Nr({headingText:(i=l,c=u,c&&c.headingText?c.headingText:En(i)?"Sync failed with errors":In(i)?"Sync completed with warnings":"Sync completed successfully"),buttonText:(s=u,s&&s.buttonText?s.buttonText:"Close WP Shopify Sync"),status:(a=u,a&&a.status?a.status:fe()?"is-connected":"is-disconnected"),stepText:(n=l,r=u,r&&r.stepText?r.stepText:En(n)?"Finished syncing with errors":In(n)?"Finished syncing with warnings":"Finished syncing"),noticeList:l,xMark:(t=u,!(!t||!t.xMark)&&t.xMark)}),ee(!1);case 32:case"end":return e.stop()}var t,n,r,a,s,i,c,o},e,this,[[2,7],[15,21]])}))).apply(this,arguments)}function Mn(){jQuery(".wps-connector").addClass("wps-is-finished")}function Ln(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He(a,s,i);case 3:r=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),n(e.t0),e.abrupt("return");case 10:return t(r),e.abrupt("return",r);case 12:case"end":return e.stop()}},e,this,[[0,6]])}));return function(e,t){return n.apply(this,arguments)}}())}function An(e,t){var n,r,a;jQuery(".wps-connector-content > .wps-progress-notice").first().after((r=e,"products"===(a=(n=t).split("_").join(" "))&&(a="Products <small>(includes images, tags, variants, etc)</small>",r*=6),"custom_collections"===a&&(r*=2),"smart_collections"===a&&(r*=2),"shop"===a&&(a="Shop <small>(includes store name, location, phone number, etc)</small>"),"collects"===a&&(a="Collects <small>(used to assign products to collections)</small>"),jQuery('<div class="wps-progress-bar-wrapper" data-wps-progress-total="'+r+'" id="wps-progress-bar-'+n+'"><span class="wps-progress-step-name">'+a+'</span><span class="wps-progress-step-percentage">0%</span><div class="wps-progress-bar"></div><span class="dashicons dashicons-yes"></span></div>')))}function Dn(e,t){jQuery("#wps-progress-bar-"+t).data("wps-progress-total",e).attr("data-wps-progress-total",e)}function Un(e,t){var n,r,a,s=(n=e,(r=jQuery("#wps-progress-bar-"+t)).find(".wps-progress-bar"),n/r.data("wps-progress-total")*100),i=jQuery("#wps-progress-bar-"+t);isNaN(s)||(e==i.data("wps-progress-total")&&(i.hasClass("wps-is-complete")||(i.addClass("wps-is-complete"),C(i.find(".dashicons-yes")))),i.find(".wps-progress-bar").css("width",s+"%"),i.find(".wps-progress-step-percentage").text((a=Math.round(s),isFinite(a)?a+"%":"Checking ...")))}function Rn(e){return d()(e)?o()(e,function(e){return T()(e,An)}):T()(e.wps_syncing_totals,An)}function Nn(){var e=jQuery(".wps-progress-bar-wrapper");C(jQuery(".wps-progress-bar-wrapper:not(.wps-is-complete) .dashicons-yes")),e.addClass("wps-is-complete"),e.find(".wps-progress-bar").css("width","100%"),e.find(".wps-progress-step-percentage").text("100%")}function Fn(){return qn.apply(this,arguments)}function qn(){return(qn=z()(Ae.a.mark(function e(){var s,i,c,o,u,p,l,d,f=arguments;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 0<f.length&&void 0!==f[0]&&f[0],e.next=3,Object(Ue.a)(new Promise(function(t,r){var a="progress_status";jQuery.ajax({method:"GET",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}));case 3:if(s=e.sent,i=De()(s,2),c=i[0],o=i[1],c)return Nn(),e.abrupt("return",Hn(st(c)));e.next=10;break;case 10:if(w()(o,"data")){e.next=13;break}return Nn(),e.abrupt("return",Hn({xMark:!0}));case 13:if(a=o.data.syncing_totals,T()(a,Dn),r=o.data.syncing_current_amounts,T()(r,Un),t=o.data.syncing_totals,n=o.data.syncing_current_amounts,B()(t,n)){e.next=19;break}setTimeout(Fn,800),e.next=46;break;case 19:if(o.data.has_fatal_errors)return e.abrupt("return",Hn({xMark:!0}));e.next=23;break;case 23:if(WP_Shopify.reconnectingWebhooks&&Yn())return Nn(),Er(),Ir("Cleaning up ..."),e.abrupt("return",Hn({noticeList:[{type:"success",stepText:"Finished syncing webhooks",message:"Success! You've finished reconnecting the Shopify webhooks."}]}));e.next=28;break;case 28:if(!Yn()||$n()||Jn())return e.abrupt("return",Hn());e.next=32;break;case 32:return Nn(),Er(),Ir("Finishing sync ..."),e.next=37,Object(Ue.a)(rt());case 37:if(u=e.sent,p=De()(u,2),l=p[0],d=p[1],l)return e.abrupt("return",Hn(st(l)));e.next=43;break;case 43:if(qr(d))return e.abrupt("return",Hn(at(pe(d))));e.next=45;break;case 45:Gn(z()(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn());case 1:case"end":return e.stop()}},e,this)})));case 46:case"end":return e.stop()}var t,n,r,a},e,this)}))).apply(this,arguments)}function Gn(e){return Vn.apply(this,arguments)}function Vn(){return(Vn=z()(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Yn()){e.next=2;break}return e.abrupt("return",Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}));case 2:return e.prev=2,e.next=5,new Promise(function(t,r){var a="get_posts_relationships_status";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})});case 5:e.sent.data?t():setTimeout(function(){Gn(t)},500),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("getPostRelationshipsStatus error: ",e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}))).apply(this,arguments)}function Yn(){return WP_Shopify.isSyncing}function $n(){return WP_Shopify.manuallyCanceled}function Jn(){return WP_Shopify.isDisconnecting}function Kn(e){return Xn.apply(this,arguments)}function Xn(){return(Xn=z()(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Yn()||WP_Shopify.isClearing||Jn()||WP_Shopify.isConnecting){e.next=2;break}return e.abrupt("return",Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}));case 2:return e.prev=2,e.next=5,new Promise(function(t,r){var a="get_webhooks_removal_status";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})});case 5:e.sent.data?t():setTimeout(function(){Kn(t)},1e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("afterWebhooksRemoval error: ",e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}))).apply(this,arguments)}function Zn(e){return er.apply(this,arguments)}function er(){return(er=z()(Ae.a.mark(function e(t){var n,r,a,s;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.a)(new Promise(function(t,r){var a="get_data_removal_status";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}));case 2:if(n=e.sent,r=De()(n,2),a=r[0],s=r[1],a)return t(a),e.abrupt("return");e.next=9;break;case 9:s.data?t(s):setTimeout(function(){Zn(t)},1e3);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function tr(e){var t=parseInt(WP_Shopify.itemsPerRequest);return e=parseInt(e),{currentPage:1,pages:Math.ceil(e/t),items:[]}}function nr(){return rr.apply(this,arguments)}function rr(){return(rr=z()(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.a)(new Promise(function(t,r){var a="get_shop";jQuery.ajax({method:"GET",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}));case 2:if(r=e.sent,a=De()(r,2),s=a[0],i=a[1],s)return Hn(st(s)),n(),e.abrupt("return");e.next=10;break;case 10:if(qr(i))return Hn(at(i)),t(),e.abrupt("return");e.next=14;break;case 14:return i=i.data,e.next=17,Object(Ue.a)(ke(i));case 17:if(c=e.sent,o=De()(c,2),u=o[0],p=o[1],u)return Hn(st(u)),n(),e.abrupt("return");e.next=25;break;case 25:if(qr(p))return Hn(at(p)),t(),e.abrupt("return");e.next=29;break;case 29:t(p);case 30:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ar(e){return sr.apply(this,arguments)}function sr(){return(sr=z()(Ae.a.mark(function e(l){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(WP_Shopify.selective_sync.all||WP_Shopify.selective_sync.products){e.next=3;break}return t(),e.abrupt("return");case 3:r=tr(l),a=r.currentPage,s=r.pages,r.items,i=[];case 5:if(a<=s)return e.next=8,Object(Ue.a)(Le(a));e.next=24;break;case 8:if(c=e.sent,o=De()(c,2),u=o[0],p=o[1],u)return Hn(st(u)),t(),e.abrupt("break",24);e.next=16;break;case 16:if(qr(p))return Hn(at(p)),t(),e.abrupt("break",24);e.next=20;break;case 20:i.push(p),a+=1,e.next=5;break;case 24:t(i);case 25:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ir(l){return new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(WP_Shopify.selective_sync.all||WP_Shopify.selective_sync.products){e.next=3;break}return t(),e.abrupt("return");case 3:r=tr(l),a=r.currentPage,s=r.pages,r.items,i=[];case 5:if(a<=s)return e.next=8,Object(Ue.a)(Me(a));e.next=24;break;case 8:if(c=e.sent,o=De()(c,2),u=o[0],p=o[1],u)return Hn(st(u)),t(),e.abrupt("break",24);e.next=16;break;case 16:if(qr(p))return Hn(at(p)),t(),e.abrupt("break",24);e.next=20;break;case 20:i.push(p),a+=1,e.next=5;break;case 24:t(i);case 25:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function cr(e){return or.apply(this,arguments)}function or(){return(or=z()(Ae.a.mark(function e(l){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(WP_Shopify.selective_sync.all||WP_Shopify.selective_sync.orders){e.next=3;break}return t(),e.abrupt("return");case 3:r=tr(l),a=r.currentPage,s=r.pages,r.items,i=[];case 5:if(a<=s)return e.next=8,Object(Ue.a)(Ne(a));e.next=24;break;case 8:if(c=e.sent,o=De()(c,2),u=o[0],p=o[1],u)return Hn(st(u)),t(),e.abrupt("break",24);e.next=16;break;case 16:if(qr(p))return Hn(at(p)),t(),e.abrupt("break",24);e.next=20;break;case 20:i.push(p),a+=1,e.next=5;break;case 24:t(i);case 25:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ur(e){return pr.apply(this,arguments)}function pr(){return(pr=z()(Ae.a.mark(function e(l){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(WP_Shopify.selective_sync.all||WP_Shopify.selective_sync.customers){e.next=3;break}return t(),e.abrupt("return");case 3:r=tr(l),a=r.currentPage,s=r.pages,r.items,i=[];case 5:if(a<=s)return e.next=8,Object(Ue.a)(Fe(a));e.next=24;break;case 8:if(c=e.sent,o=De()(c,2),u=o[0],p=o[1],u)return Hn(st(u)),t(),e.abrupt("break",24);e.next=16;break;case 16:if(qr(p))return Hn(at(p)),t(),e.abrupt("break",24);e.next=20;break;case 20:i.push(p),a+=1,e.next=5;break;case 24:t(i);case 25:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function lr(l){return new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=tr(l),a=r.currentPage,s=r.pages,r.items,i=[];case 2:if(a<=s)return e.next=5,Object(Ue.a)(qe(a));e.next=21;break;case 5:if(c=e.sent,o=De()(c,2),u=o[0],p=o[1],u)return Hn(st(u)),t(),e.abrupt("break",21);e.next=13;break;case 13:if(qr(p))return Hn(at(p)),t(),e.abrupt("break",21);e.next=17;break;case 17:i.push(p),a+=1,e.next=2;break;case 21:return t(i),e.abrupt("return");case 23:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function dr(e){return fr.apply(this,arguments)}function fr(){return(fr=z()(Ae.a.mark(function e(l){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=tr(l),s=a.currentPage,i=a.pages,a.items;case 2:if(s<=i)return e.next=5,Object(Ue.a)(Ge(s));e.next=21;break;case 5:if(c=e.sent,o=De()(c,2),u=o[0],p=o[1],u)return Hn(st(u)),t(),e.abrupt("break",21);e.next=13;break;case 13:if(qr(p))return Hn(at(p)),t(),e.abrupt("break",21);e.next=17;break;case 17:r.push(p),s+=1,e.next=2;break;case 21:t(r);case 22:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function gr(e){return Ce(e)}function hr(){return Ie(1)}function yr(e){return n=e,new Promise(function(t,r){var a="save_connection";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,connectionData:n,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})});var n}function _r(e){return function(e){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new Promise(function(t,r){var a="insert_syncing_totals";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce,counts:e,exclusions:n},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})}(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:[])}function mr(){return Oe()}function wr(e){return br.apply(this,arguments)}function br(){return(br=z()(Ae.a.mark(function e(n){var r,a,s=arguments;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<s.length&&void 0!==s[1]&&s[1],WP_Shopify.isSyncing=!0,t=n,n=Object.assign.apply(Object,[{}].concat(i()(t))),a=[lr(n.smart_collections),dr(n.custom_collections),nr(),ar(n.products),ir(n.collects),cr(n.orders),ur(n.customers)],r&&a.push(gr()),e.abrupt("return",Promise.all(a));case 6:case"end":return e.stop()}var t},e,this)}))).apply(this,arguments)}function vr(){return Promise.all([new Promise(function(t,r){var a="get_webhooks_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}),new Promise(function(t,r){var a="get_orders_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}),new Promise(function(t,r){var a="get_customers_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}),new Promise(function(t,r){var a="get_smart_collections_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}),new Promise(function(t,r){var a="get_custom_collections_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}),new Promise(function(t,r){var a="get_products_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}),new Promise(function(t,r){var a="get_collects_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}),new Promise(function(t,r){var a="get_shop_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})})])}function xr(){var e=jQuery("#wps-connect"),n=e.find('input[type="submit"]');jQuery("#wps-connect").off("submit.disconnect"),e.on("submit.connect",function(e){e.preventDefault()}).validate({rules:{js_access_token:{alphaNumeric:!0},shared_secret:{alphaNumeric:!0},api_key:{alphaNumeric:!0},password:{alphaNumeric:!0},domain:{domainRule:!0}},success:function(e){var t;t=n,e.addClass("valid").text("Ok!"),jQuery("#wps-errors").addClass("wps-is-hidden"),ra(t)},errorPlacement:function(e){Ar(e.text(),"error")},submitHandler:function(e){var k,n;k=e,Cr("Connecting","Cancel connection"),new Promise((n=z()(Ae.a.mark(function e(m,t){var n,r,a,s,i,c,o,u,p,l,d,f,g,h,y,_,w,b,v,x;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ir("Preparing Shopify connection ..."),e.next=3,Object(Ue.a)(mn());case 3:if(n=e.sent,r=De()(n,2),a=r[0],s=r[1],a)return Hn(st(a)),m(),e.abrupt("return");e.next=11;break;case 11:if(qr(s))return Hn(at(s)),m(),e.abrupt("return");e.next=15;break;case 15:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=19;break;case 19:return Er(),Ir("Validating Shopify connection ..."),e.next=23,Object(Ue.a)(Ye());case 23:if(i=e.sent,c=De()(i,2),o=c[0],u=c[1],o)return Hn(st(o)),m(),e.abrupt("return");e.next=31;break;case 31:if(qr(u))return Hn(at(pe(u))),m(),e.abrupt("return");e.next=35;break;case 35:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=39;break;case 39:return Er(),Ir("Saving Shopify connection ..."),e.next=43,Object(Ue.a)(yr((t=jQuery(k).serializeArray(),(t=JSON.parse(JSON.stringify(t))).reduce(function(e,t){return e[t.name]=t.value,e},{}))));case 43:if(p=e.sent,l=De()(p,2),d=l[0],f=l[1],d)return Hn(st(d)),m(),e.abrupt("return");e.next=51;break;case 51:if(qr(f))return Hn(at(pe(f))),m(),e.abrupt("return");e.next=55;break;case 55:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=59;break;case 59:if(me(WP_Shopify.isConnecting=!0),Sr(f))return e.next=64,Object(Ue.a)(nr());e.next=83;break;case 64:if(g=e.sent,h=De()(g,2),y=h[0],_=h[1],y)return Hn(st(y)),m(),e.abrupt("return");e.next=72;break;case 72:if(qr(_))return Hn(at(pe(_))),m(),e.abrupt("return");e.next=76;break;case 76:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=80;break;case 80:return Hn({headingText:"Connection saved",stepText:"Finished saving Shopify connection only"}),m(),e.abrupt("return");case 83:return Er(),Ir("Removing any existing data first ...","(Please wait, this might take 30 seconds or so)"),e.next=87,Object(Ue.a)(mr());case 87:if(w=e.sent,b=De()(w,2),v=b[0],x=b[1],v)return Hn(st(v)),m(),e.abrupt("return");e.next=95;break;case 95:if(qr(x))return Hn(at(pe(x))),m(),e.abrupt("return");e.next=99;break;case 99:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=103;break;case 103:Zn(z()(Ae.a.mark(function e(){var t,n,r,a,s,i,c,o;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.a)(hr());case 2:if(t=e.sent,n=De()(t,2),r=n[0],a=n[1],r)return Hn(st(r)),m(),e.abrupt("return");e.next=10;break;case 10:if(qr(a))return Hn(at(pe(a))),m(),e.abrupt("return");e.next=14;break;case 14:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=18;break;case 18:return e.next=20,Object(Ue.a)(Be());case 20:if(s=e.sent,i=De()(s,2),c=i[0],o=i[1],c)return Hn(st(c)),m(),e.abrupt("return");e.next=28;break;case 28:if(qr(o))return Hn(at(pe(o))),m(),e.abrupt("return");e.next=32;break;case 32:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=36;break;case 36:Kn(z()(Ae.a.mark(function e(){var t,n,r,a,s,i,c,o,u,p,l,d,f,g,h,y,_;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),Er(),Ir("Starting connection ..."),e.next=5,Object(Ue.a)(Ln(!0,wn()));case 5:if(t=e.sent,n=De()(t,2),r=n[0],a=n[1],r)return Hn(st(r)),m(),e.abrupt("return");e.next=13;break;case 13:if(qr(a))return Hn(at(pe(a))),m(),e.abrupt("return");e.next=17;break;case 17:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=21;break;case 21:return Er(),Ir("Determining the number of items to sync ..."),e.next=25,Object(Ue.a)(vr());case 25:if(s=e.sent,i=De()(s,2),c=i[0],o=i[1],c)return Hn(st(c)),m(),e.abrupt("return");e.next=33;break;case 33:if(qr(o))return Hn(at(pe(o))),m(),e.abrupt("return");e.next=37;break;case 37:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=41;break;case 41:return e.next=43,Object(Ue.a)(ve());case 43:if(u=e.sent,p=De()(u,2),l=p[0],d=p[1],l)return Hn(st(l)),m(),e.abrupt("return");e.next=51;break;case 51:if(qr(d))return Hn(at(d)),m(),e.abrupt("return");e.next=55;break;case 55:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=59;break;case 59:return f=ge(ye(he(ca(o)))),e.next=62,Object(Ue.a)(_r(f));case 62:if(g=e.sent,h=De()(g,2),y=h[0],_=h[1],y)return Hn(st(y)),m(),e.abrupt("return");e.next=70;break;case 70:if(qr(_))return Hn(at(pe(_))),m(),e.abrupt("return");e.next=74;break;case 74:if($n())return Hn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),m(),e.abrupt("return");e.next=78;break;case 78:Er(),Or("Syncing"),Br("Cancel syncing process"),Ir("Syncing Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),Rn(f),Fn(),wr(f,!0);case 85:case"end":return e.stop()}},e,this)})));case 37:case"end":return e.stop()}},e,this)})));case 104:case"end":return e.stop()}var t},e,this)})),function(e,t){return n.apply(this,arguments)}))}})}function kr(){var e,t,n=jQuery("#wps-connect").find('input[type="submit"]');se(),jQuery("body").find(".wps-connector-wrapper").remove(),(Kr(e=jQuery("#wps_settings_general_domain").val())||function(e){if(!e.indexOf("myshopify.com"))return!1;var t=e.split("myshopify.com");return 1<t.length||void 0}(e))&&jQuery("#wps_settings_general_domain").val((-1<(t=e).indexOf("http://")&&(t=t.replace("http://","")),-1<t.indexOf("https://")&&(t=t.replace("https://","")),-1<t.indexOf("myshopify.com/")&&(t=(t=t.split("myshopify.com/"))[0]+"myshopify.com"),t)),na(n),o()(n,aa),ne(!1),ee(!0)}function Sr(e){return"1"==e.data.save_connection_only}function jr(){xr()}var Pr=n(143),Tr=n.n(Pr);function Qr(){return jQuery('<span class="dashicons dashicons-no"></span>')}function Wr(){return jQuery('<span class="dashicons dashicons-yes"></span>')}function Cr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";kr();var n,r,a=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Connecting ...",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Cancel connection";return null===te()?jQuery('<div class="wps-connector-wrapper"><div class="wps-connector wps-connector-progress wps-animated wps-fadeInDown"><h1 class="wps-connector-heading"><span>'+e+'</span> <img class="wps-connector-logo" src="'+WP_Shopify.pluginsDirURL+'admin/imgs/shopify.svg" /> to <img class="wps-connector-logo" src="'+WP_Shopify.pluginsDirURL+'admin/imgs/logo-wp.svg" /></h1><div class="l-row"><button type="button" name="button" class="button button-primary wps-btn wps-btn-cancel">'+t+'</button></div><div class="wps-connector-content"></div></ div></div>'):te()}(e,t);n=a,jQuery("body").append(n),jQuery(".wps-btn-cancel").unbind().on("click",(r=z()(Ae.a.mark(function e(t){var n,r;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(et(),Dr(),WP_Shopify.manuallyCanceled=!0,WP_Shopify.isSyncing)return e.next=6,Object(Ue.a)(Ve());e.next=10;break;case 6:n=e.sent,(r=De()(n,2))[0],r[1];case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})),function(e){if(!e.length)return;"string"==typeof e?jQuery(e).find(".wps-connector-progress").show():e.find(".wps-connector-progress").show()}(a)}function Or(e){jQuery(".wps-connector-heading span").text(e)}function Er(){jQuery(".wps-connector-content .wps-progress-notice:first-child").append(Wr()),jQuery(".wps-connector-content .wps-progress-notice:first-child .spinner").removeClass("is-active"),jQuery(".wps-connector-content .wps-progress-notice:first-child").addClass("is-inactive"),C(jQuery(".wps-connector-content .wps-progress-notice:first-child").find(".dashicons"))}function Ir(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";Z()&&function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";ae()||(t="error"===n?jQuery('<div class="wps-progress-notice wps-progress-notice-error"><div class="wps-progress-notice-group"><span class="wps-progress-text">'+e+'<small class="wps-progress-text-supporting">'+r+"</small></span></div></div>"):jQuery('<div class="wps-progress-notice wps-progress-notice-success"><div class="wps-progress-notice-group"><span class="wps-progress-text">'+e+'<small class="wps-progress-text-supporting">'+r+'</small></span><div class="spinner is-active"></div></div></div>'),jQuery(".wps-connector-wrapper").find(".wps-connector-content").prepend(t))}(e,"",t)}function zr(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&jQuery("#wps-sync-by-collections-checkbox-wrapper .notice").replaceWith('<p class="notice notice-error inline">'+Tr.a.decode(e)+"</p>"),jQuery("#wps-sync-by-collections-checkbox-wrapper").removeClass("wps-is-hidden"),jQuery("#wps-sync-by-collections-wrapper").addClass("wps-is-hidden")}function Hr(e){e.toggleClass("wps-is-active")}function Br(e){jQuery(".wps-btn-cancel").text(e)}function Mr(){jQuery("#wps-sync-by-collections option:selected").removeAttr("selected"),jQuery("#wps-sync-by-collections").trigger("chosen:updated")}function Lr(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&jQuery('.notice[data-dismiss-name="'+e+'"]').fadeOut()}function Ar(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error",n="";e&&y()(e)&&(n=Tr.a.decode(e));var r=jQuery("#wps-errors"),a=jQuery('<div class="wps-notice notice is-dismissible '+t+'"><p>'+n+'</p><button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button></div>');r.empty().removeClass("wps-is-hidden").append(a),jQuery(".wps-notice.is-dismissible .notice-dismiss").on("click",function(e){jQuery(e.currentTarget).parent().fadeOut()});var s=r.find(".notice");"updated"===t&&setTimeout(function(){s.slideUp("fast",function(){r.addClass("wps-is-hidden")})},5e3),ra(jQuery(".wps-button-group .spinner.wps-is-active").prev()),jQuery(".wps-button-group .spinner.wps-is-active").removeClass("wps-is-active")}function Dr(){ra(jQuery('#wps-connect input[type="submit"]'))}function Ur(){jQuery(".wps-btn-cancel").unbind().on("click",function(){jQuery(".wps-connector-wrapper").remove(),jQuery(document).unbind(),se()}),jQuery(document).on("click",function(e){jQuery(e.target).closest(".wps-connector").length||(jQuery(".wps-connector-wrapper").remove(),jQuery(document).unbind(),se())}),ra(jQuery(".wps-btn-cancel").blur()),Dr()}function Rr(e){W()(e)||(e={type:"warning",message:e});var t=jQuery('<div class="notice notice-'+e.type+'">'+Tr.a.decode(e.message)+"</div>");jQuery(".wps-connector-heading").after(t)}function Nr(){var e,n,t,r,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=(e=a,L()({headingText:"Canceled",stepText:"Stopped syncing",status:"is-disconnected",buttonText:"Close WP Shopify Sync",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}],errorCode:"",clearInputs:!0,noticeType:"warning"},e));Ur(),n=s,jQuery(".wps-progress-notice").not(".is-inactive").each(function(){var e=jQuery(this),t=e.find(".spinner");t.length&&(t.remove(),!0===n.xMark?e.append(Qr()):(e.append(Wr()),C(e.find(".dashicons-yes"))))}),Or(s.headingText),Br(s.buttonText),t=s.stepText,jQuery(".wps-connector-content .wps-progress-notice:first-child .wps-progress-text").text(t),"is-connected"===(fe()?"is-connected":"is-disconnected")?jQuery(".wps-status-heading .wps-status").removeClass("is-disconnected").addClass("is-connected").text("Connected"):jQuery(".wps-status-heading .wps-status").removeClass("is-connected").addClass("is-disconnected").text("Disconnected"),r=s,d()(r.noticeList)&&!g()(r.noticeList)&&o()(r.noticeList,Rr)}function Fr(){return jQuery(".wps-connector .wps-btn-cancel")}function qr(e){var t=!1;return p()(e)&&w()(e,"success")&&(e.success||(t=!0)),d()(e)&&!g()(e)&&o()(e,function(e){p()(e)&&w()(e,"success")&&(e.success||(t=!0))}),t}function Gr(e){return!!(p()(e)&&w()(e,"statusCode")&&w()(e,"message"))}function Vr(e){return y()(e)?e:p()(e)&&w()(e,"data")&&w()(e.data,"message")?e.data.message:p()(e)&&w()(e,"message")?e.message:p()(e)&&w()(e,"data")?d()(e.data)?y()(e.data[0])?e.data[0]:w()(e.data[0],"message")?e.data[0].message:"An unknown error occured. Please clear the plugin cache and try again.":Object.values(e.data)[0].errors.error[0]:d()(e)?v()(e,function(e){return!e.success})[0].data.message:"It looks like something unexpected happened. Please clear the plugin cache and try again."}function Yr(e){return p()(e)&&w()(e,"data")&&w()(e.data,"type")?e.data.type:"error"}function $r(e){if(c()(e))return"WP Shopify javascript error: "+e.message;if(p()(e)&&w()(e,"statusCode")&&w()(e,"message")){var t=w()(e,"action_name")?e.action_name:"unknown location";return e.message.toLowerCase().replace(/^\w/,function(e){return e.toUpperCase()})+" while calling "+t+". Please clear the plugin transient cache and try again. Error status code: "+e.statusCode}return!1}function Jr(e){return-1!==e.indexOf(".myshopify.com")}function Kr(e){return-1<e.indexOf("http://")||-1<e.indexOf("https://")}function Xr(e){return void 0!==e&&"/"===e[e.length-1]}function Zr(e){var t=e;return t=t.slice(0,-1)}function ea(e){return!!k()(e,{protocols:["http","https"],require_tld:!0,require_protocol:!0,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,host_whitelist:!1,host_blacklist:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1})}function ta(e){return e.match("^[a-zA-Z0-9]*$")}function na(e){e.prop("disabled",!0).attr("disabled",!0)}function ra(e){e.prop("disabled",!1).attr("disabled",!1)}function aa(e){jQuery(e).parent().next().addClass("wps-is-active"),na(jQuery(e))}function sa(e){e.next().addClass("wps-is-active"),na(e)}function ia(e){e.next().removeClass("wps-is-active"),e.prop("disabled",!1),ra(e)}function ca(e){return e.map(function(e){return e.data})}function oa(e){return 1==e}function ua(){"submitDisconnect"===jQuery("#wps-connect").find('input[type="submit"]').attr("name")?Pn():jr()}function pa(){jQuery.validator.addMethod("containsProtocol",Kr,"Please remove http:// or https:// from domain"),jQuery.validator.addMethod("domainRule",Jr,'Domain must contain ".myshopify.com"'),jQuery.validator.addMethod("alphaNumeric",ta,"Must contain only numbers and letters"),jQuery.validator.addMethod("urlRule",ea,"Must be a valid URL"),jQuery.fn.extend({animateCss:function(e,t){this.addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass("animated "+e),t()})}})}function la(){jQuery(".wps-admin-wrap .nav-tab").on("click",function(e){e.preventDefault();var t,n=jQuery(this).data("tab"),r=jQuery(".wps-admin-wrap .nav-tab.nav-tab-active"),a=jQuery('.wps-admin-wrap .nav-tab[data-tab="'+n+'"]'),s=jQuery('.wps-admin-wrap .tab-content[data-tab-content="'+n+'"]'),i=jQuery(".wps-admin-wrap .tab-content.tab-content-active"),c=jQuery("#wps-errors");t=n,window.history.pushState({},"",fa(window.location.href,"activetab",t)),i.removeClass("tab-content-active"),r.removeClass("nav-tab-active"),a.addClass("nav-tab-active"),s.addClass("tab-content-active"),c.addClass("wps-is-hidden")})}function da(){jQuery(".wps-submenu .wps-sub-section-link").on("click",function(e){e.preventDefault();var t,n=jQuery(this).data("sub-section"),r=jQuery(".wps-submenu .wps-sub-section-link.current"),a=jQuery('.wps-sub-section-link[data-sub-section="'+n+'"]'),s=jQuery("#"+n),i=jQuery(".wps-admin-sub-section.is-active"),c=jQuery("#wps-errors");t=n,window.history.pushState({},"",fa(window.location.href,"activesubnav",t)),i.removeClass("tab-content-active"),r.removeClass("current"),a.addClass("current"),s.addClass("is-active"),c.addClass("wps-is-hidden")})}function fa(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+a+t+"="+n}function ga(o){return new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a,s,i,c;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},a={},e.prev=2,e.next=5,Pe(o);case 5:r=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",n("Error: unable to get license key. Please try again."));case 11:return e.prev=11,e.next=14,wa(r);case 14:s=e.sent,e.next=20;break;case 17:return e.prev=17,e.t1=e.catch(11),e.abrupt("return",n(e.t1));case 20:if(s)return e.prev=21,e.next=24,Te(o);e.next=47;break;case 24:if(a=e.sent,p()(a)){e.next=27;break}return e.abrupt("return",n("Error: invalid license key format. Please try again."));case 27:e.next=32;break;case 29:return e.prev=29,e.t2=e.catch(21),e.abrupt("return",n("Error: unable to activate license key. Please try again."));case 32:return e.prev=32,i=ma(a,o),e.next=36,Qe(i);case 36:if(qr(c=e.sent))throw c.data;e.next=39;break;case 39:t(c.data),e.next=45;break;case 42:return e.prev=42,e.t3=e.catch(32),e.abrupt("return",n(e.t3));case 45:e.next=48;break;case 47:return e.abrupt("return",n(s));case 48:case"end":return e.stop()}},e,this,[[2,8],[11,17],[21,29],[32,42]])}));return function(e,t){return n.apply(this,arguments)}}())}function ha(e){var t=jQuery("#wps-license"),n=t.find('input[type="submit"]'),r=t.find("#wps_settings_general_license"),a=jQuery(".wps-postbox-license-info");n.data("status","deactivate"),n.attr("data-status","deactivate"),n.val("Deactivate License"),r.val(function(e,t,n){if(e){var r=e.length,a=e.substr(r-n),s=e.slice(0,-n);return s.length,new Array(s.length+1).join(t)+a}}(e.license_key,"•",4)),r.removeClass("error"),function(e){var t,n,r=jQuery(".wps-col-license-limit"),a=jQuery(".wps-col-license-name"),s=jQuery(".wps-col-license-email"),i=jQuery(".wps-col-license-expire"),c=jQuery(".wps-col-license-status");t=0===e.license_limit?"unlimited":e.license_limit;n=e.site_count,e.success&&(c.text("Active"),c.removeClass("wps-col-license-status-inactive").addClass("wps-col-license-status-active"));r.text(n+" / "+t),a.text(e.customer_name),s.text(e.customer_email),"false"!==e.lifetime&&e.lifetime?i.text("Never expires"):i.text(function(e){var t=Date.parse(e);if(0==isNaN(t)){var n=new Date(t);return j()(n,"mmmm d, yyyy")}}(e.expires));e.is_local&&r.append('<small class="wps-table-supporting">(Activations on dev environments don\'t add to total)</small>')}(e),a.removeClass("wps-is-hidden").animateCss("wps-fadeInRight",function(){a.removeClass("wps-fadeInRight")}),na(jQuery("#wps_settings_general_license"))}function ya(){var e=jQuery("#wps-license"),t=e.find('input[type="submit"]'),n=e.find("#wps_settings_general_license"),r=jQuery(".wps-postbox-license-info");t.data("status","activate"),t.attr("data-status","activate"),t.val("Activate License"),n.val(""),n.attr("disabled",!1),n.prop("disabled",!1),n.removeClass("error valid"),r.animateCss("wps-fadeOutRight",function(){r.addClass("wps-is-hidden")})}function _a(){var t;jQuery("#wps-license").submit(function(e){e.preventDefault()}).validate({rules:{"wps_settings_license[wps_key]":{alphaNumeric:!0}},errorPlacement:function(e){Ar(e.text(),"error")},submitHandler:(t=z()(Ae.a.mark(function e(t){var n,r,a,s,i;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=jQuery(t).find('input[type="submit"]'),r=jQuery(t).find(".spinner"),jQuery("#wps_settings_general_nonce_license_id").val(),jQuery(t).find("#wps_settings_general_license"),a=jQuery(t).find("#wps_settings_general_license").val(),jQuery(".wps-postbox-license-info"),na(n),Hr(r),sa(n),"activate"===n.data("status"))return e.prev=5,e.next=8,ga(a);e.next=32;break;case 8:s=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),ia(n),Ar(e.t0,"error"),e.abrupt("return",e.t0);case 16:return e.prev=16,e.next=19,je(a);case 19:i=e.sent,e.next=27;break;case 22:return e.prev=22,e.t1=e.catch(16),ia(n),Ar(e.t1,"error"),e.abrupt("return",e.t1);case 27:ba({productInfo:i}),ha(s),Ar("Successfully activated license key. Enjoy :)","updated"),e.next=44;break;case 32:return e.prev=32,e.next=35,new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=jQuery('#wps-license input[type="submit"]'),jQuery("#wps_settings_license_license"),jQuery(".wps-postbox-license-info"),e.prev=1,e.next=4,We();case 4:if(qr(a=e.sent))throw a.data;e.next=7;break;case 7:t(a),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),ra(r),e.abrupt("return",n(e.t0));case 14:case"end":return e.stop()}},e,this,[[1,10]])}));return function(e,t){return n.apply(this,arguments)}}());case 35:e.sent,ya(),Ar("Successfully deactivated license key","updated"),e.next=44;break;case 40:e.prev=40,e.t2=e.catch(32),ia(n),Ar(e.t2,"error");case 44:ra(n),Hr(r),ia(n);case 47:case"end":return e.stop()}},e,this,[[5,11],[16,22],[32,40]])})),function(e){return t.apply(this,arguments)})})}function ma(e,t){var n=e;return"lifetime"===n.expires?(n.expires=new Date("January 1, 1970"),n.lifetime=!0):n.lifetime=!1,n.license_key=t,n}function wa(r){return new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("invalid"===r.license)return e.abrupt("return",n("This license key is invalid or disabled. Please double check / re-enter your key."));e.next=2;break;case 2:if("expired"===r.license)return e.abrupt("return",n('This license key is expired. Please login and renew your key at <a href="https://wpshop.io/account" target="_blank">wpshop.io/account</a>'));e.next=4;break;case 4:if("revoked"===r.license)return e.abrupt("return",n('This license key has been disabled. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));e.next=6;break;case 6:if("missing"===r.license)return e.abrupt("return",n('This license key cannot be found. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));e.next=8;break;case 8:if("item_name_mismatch"===r.license)return e.abrupt("return",n('This appears to be an invalid license key for WP Shopify. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));e.next=10;break;case 10:if(r.license,r.activations_left<0)return e.abrupt("return",n("This license key has reached it's activation limit. Please upgrade."));e.next=15;break;case 15:return e.abrupt("return",t(!0));case 16:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function ba(e){var t=jQuery("#wps-plugin-info"),n=t.find(".wps-col-plugin-version"),r=(t.find(".wps-col-plugin-update-avail"),t.find(".wps-col-plugin-name")),a=t.find(".wps-col-tested-up-to");e&&e.productInfo.banners&&(r.text(e.productInfo.name),n.text(e.productInfo.new_version),a.text(e.productInfo.tested_up_to))}function va(){return(va=z()(Ae.a.mark(function e(){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _a(),e.prev=1,e.next=4,new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(){var n=z()(Ae.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=jQuery("#wps-license"),a=jQuery("#wps-license > .spinner"),r.find('input[type="submit"]'),r.find(".spinner"),r.find("#wps_settings_general_license"),jQuery(".wps-postbox-license-info"),jQuery(".wps-postbox-license-activation"),jQuery("#wps-plugin-info"),Hr(jQuery("#wps-plugin-info > .spinner")),Hr(a),e.prev=3,e.next=6,new Promise(function(t,r){var a="license_get";jQuery.ajax({method:"GET",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})});case 6:if(qr(s=e.sent))return e.abrupt("return",t());e.next=11;break;case 11:i=s.data;case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",n(e.t0));case 17:return e.prev=17,e.next=20,Pe(i);case 20:c=e.sent,e.next=26;break;case 23:return e.prev=23,e.t1=e.catch(17),e.abrupt("return",n(e.t1));case 26:return e.prev=26,e.next=29,wa(c);case 29:o=e.sent,e.next=46;break;case 32:return e.prev=32,e.t2=e.catch(26),e.prev=34,e.next=37,We();case 37:if(qr(u=e.sent))throw u.data;e.next=40;break;case 40:e.next=45;break;case 42:return e.prev=42,e.t3=e.catch(34),e.abrupt("return",n(e.t3));case 45:return e.abrupt("return",n(e.t2));case 46:if(o){e.next=60;break}return e.prev=47,e.next=50,We();case 50:if(qr(p=e.sent))throw p.data;e.next=53;break;case 53:e.next=58;break;case 55:return e.prev=55,e.t4=e.catch(47),e.abrupt("return",n(e.t4));case 58:e.next=61;break;case 60:t(s.data);case 61:case"end":return e.stop()}},e,this,[[3,14],[17,23],[26,32],[34,42],[47,55]])}));return function(e,t){return n.apply(this,arguments)}}());case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 9:return e.prev=9,e.next=12,je(r);case 12:a=e.sent,e.next=18;break;case 15:return e.prev=15,e.t1=e.catch(9),e.abrupt("return",n(e.t1));case 18:t({licenseKey:r,productInfo:a});case 19:case"end":return e.stop()}},e,this,[[0,6],[9,15]])}));return function(e,t){return n.apply(this,arguments)}}());case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),Ar(e.t0,"error"),ya();case 11:ba(n),t=void 0,(t=jQuery("#wps-license, #wps-plugin-info")).addClass("wps-is-ready"),t.find(".wps-is-hidden").removeClass("wps-is-hidden");case 13:case"end":return e.stop()}var t},e,this,[[1,7]])}))).apply(this,arguments)}function xa(){jQuery(".wps-help-tip").tooltipster({animation:"fade",delay:0,animationDuration:[100,100],interactive:!0,IEmin:8,timer:0})}function ka(){var t;jQuery("#wps-button-migrate").off().on("click",(t=z()(Ae.a.mark(function e(n){var r,a,s,i,c,o;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=jQuery(this),(a=r.parent()).find(".spinner"),ra(t=r),ia(t),window.confirm("Warning: This will modify your database tables to be compatible with the new (1.2.2) version of WP Shopify. Please don't leave this screen until the migration finishes. Finally, please ensure that you've made a backup as potential data loss could occur!"))return a.addClass("is-working"),sa(r),e.next=10,Object(Ue.a)(new Promise(function(t,r){var a="run_table_migration_"+WP_Shopify.latestVersionCombined;jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(ie(e,n,a))}})}));e.next=29;break;case 10:if(s=e.sent,i=De()(s,2),c=i[0],o=i[1],c)return ia(r),a.removeClass("is-working"),e.abrupt("return",Ar($r(c)));e.next=18;break;case 18:if(qr(o))return Ar(Vr(o),Yr(o)),ia(r),a.removeClass("is-working"),e.abrupt("return");e.next=23;break;case 23:ia(r),a.removeClass("is-working"),na(r),Ar("Successfully migrated database tables to the latest version of WP Shopify! You're ready to go!","updated"),e.next=31;break;case 29:ia(r),a.removeClass("is-working");case 31:case"end":return e.stop()}var t},e,this)})),function(e){return t.apply(this,arguments)}))}function Sa(){jQuery(".wps-submit-menu-cart-icon").on("click",function(){var e=setInterval(function(){jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').length&&(jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').closest(".field-description").hide(),clearInterval(e))},500)}),jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').hide()}_.noConflict(),jQuery(function(){jQuery("body").hasClass("wp-shopify_page_wps-settings")&&(xa(),la(),da(),pa(),ua(),function(){va.apply(this,arguments)}(),kn(),Wn(),Sa(),ka()),Tt()})}});